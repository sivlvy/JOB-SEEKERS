{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/food-api.js","../src/js/home-content/main-products/main-projects.js","../src/js/filters/filters.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport const getCategoryList = async () => {\n\tconst { data } = await axios.get(`/products/categories`);\n\treturn data;\n};\n\nexport const getCurrentProducts = async ({\n\tvalue,\n\tcategory,\n\tpage,\n\tlimit,\n\tsortBy,\n}) => {\n\tconst params = new URLSearchParams({\n\t\tpage,\n\t\tlimit,\n\t});\n\n\tif (value) {\n\t\tparams.set('value', value);\n\t}\n\n\tif (category) {\n\t\tparams.set('category', category);\n\t}\n\n\tif (sortBy) {\n\t\tparams.set('sortBy', sortBy);\n\t}\n\n\tconst { data } = await axios.get(`/products/`, { params });\n\n\treturn data;\n};\n\nexport const getProductById = async id => {\n\tconst { data } = await axios.get(`/products/${id}`);\n\treturn data;\n};\n\nexport const getPopularProducts = async limit => {\n\tconst { data } = await axios.get(`/products/popular?limit=${limit}`);\n\treturn data;\n};\n\nexport const getDiscountProducts = async () => {\n\tconst { data } = await axios.get(`/products/discount`);\n\treturn data;\n};\n","import axios from 'axios';\nimport { getCurrentProducts } from '../../services/food-api.js';\n// import { resolvePackageEntry } from 'vite';\n\n\nconst cardProduct = document.querySelector('.product-list');\nconst cardContainer = document.querySelector('.card-container');\nconst loaderEl = document.querySelector('.loader');\n\n\nlet value = \"\"; \nlet category = \"\"; \nlet page = 1;\nlet limit = 6;\n\n\n\nif(cardContainer.offsetWidth >= 768 && cardContainer.offsetWidth < 1440){\n\tlimit = 8;\n\t\n\t\n} \nif (cardContainer.offsetWidth >= 1440) {\n\tlimit = 9;\n}\n\n\n\ngetCurrentProducts({value, category, page, limit})\n\t.then(data => {\n\t\tloaderEl.style.visibility = 'hidden';\n\t\tconst products = data.results;\n\t\t\n\t\t// for(const product of products) {\n\t\t// \tconst replaceSymbolsOfCategory = product.category;\n\t\t// \tconst replacedCategory = replaceSymbolsOfCategory.replace('_', ' ');\n\t\t// \tconsole.log(replacedCategory)\n\t\t// }\n\t\t\n\t\t\n\t\t\n\n\t\n\t\n\t\tcardProduct.insertAdjacentHTML('afterbegin', cardMarkup(products));\n\t})\n\t.catch(error => {\n\t\tconsole.log(error);\n\t});\n\n\tfunction cardMarkup(products) {\n\n\t\t// products.forEach(product => {\n\t\t// \tcategory = product.category.replace('_', ' ')\n\t\t// \tconsole.log(category)\n\t\t\t\n\t\t// });\n\t\t\n\t\treturn products\n\t\t\t.map(\n\t\t\t\t({ img, name, category, size, popularity, price }) => \n\t\t\t\n\t\t\t\t\n\t\t\t\t\t`<li class=\"card-wrapper\">\n\t\t\t\t\t<div class=\"image-wrapper\">\n\t\t\t\t\t<img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"product-image\" width=\"140\" height=\"140\" />\n\t\t\t\t\t</div>\n\t\t   <div class=\"product-info\">\n\t\t\t <p class=\"product-name\">\n\t\t\t   ${name}\n\t\t\t </p>\n\t\t\t<div class =\"product-items\">\n\t\t\t<p  class=\"product-item\">\n\t\t\tCategory:<span class=\"product-more-info\"> &nbsp;${category}</span>\n\t\t  </p>\n\t\t  <p class=\"product-item\">\n\t\t\tSize:<span class=\"product-more-info\"> &nbsp;${size}</span>\n\t\t  </p>\n\t\t  <p class=\"product-item\">\n\t\t\tPopularity:<span class=\"product-more-info\"> &nbsp;${popularity}</span>\n\t\t  </p></div>\n\t\t\t \n\t\t   </div>\n\t\t   <div class=\"price-and-add\">\n\t\t\t <p class=\"product-price\">$${price}</p>\n\t\t\t <button class=\"add-button\" type=\"button\">\n\t\t\t <svg class=\"icon-button\"width=\"18\" height=\"18\">\n             <use href=\"../../../icons.svg#icon-cart-mob\" >\n             </use></svg>\n\t\t\t </button>\n\t\n\t\t\t </div>\n\t\t   \n\t\t   </li>`\n\t\t\t\t)\n\t\t\n\t\t\t.join('')\n\t\t\t\n\t}\n","import { getCategoryList } from '../services/food-api';\nimport SlimSelect from 'slim-select';\n\nconst refs = {\n\tselectEl: document.querySelector('.filterts-categories-select'),\n};\n\ngetCategoryList()\n\t.then(data => {\n\t\trenderSelectList(data);\n\t})\n\t.catch(err => console.log(err));\n\nfunction renderSelectList(data) {\n\tconst placeholderStr = `<option disabled selected value=\"Show All\" hidden data-placeholder=\"true\">Categories</option>`;\n\trefs.selectEl.insertAdjacentHTML('afterbegin', placeholderStr);\n\tconst markupSelectList = data\n\t\t.map(elem => {\n\t\t\treturn `<option value=\"${elem}\">${elem.replaceAll('_', ' ')}</option>`;\n\t\t})\n\t\t.join('')\n\t\t.concat(`<option value=\"\">Show All</option>`);\n\n\trefs.selectEl.insertAdjacentHTML('beforeend', markupSelectList);\n\n\tnew SlimSelect({\n\t\tselect: refs.selectEl,\n\t\tsettings: {\n\t\t\tshowSearch: false,\n\t\t\tsearchHighlight: true,\n\t\t},\n\t});\n\n\tconst filtersInstance = new Filters();\n\n\tconsole.log(filtersInstance);\n\n\trefs.selectEl.addEventListener('change', evt =>\n\t\tfiltersInstance.searchOptionForLocalStorage({\n\t\t\tkey: 'category',\n\t\t\tvalue: evt.target.value,\n\t\t})\n\t);\n}\n\nexport class Filters {\n\tconstructor() {\n\t\tthis.STORAGE_FILTERS_KEY = 'filters-parameters';\n\t\tthis.defaultFilters = new Map([\n\t\t\t['keyword', null],\n\t\t\t['category', null],\n\t\t\t['page', 1],\n\t\t\t['limit', 6],\n\t\t]);\n\t\tthis.setDefaultFilters();\n\t\tthis.saveFiltersToLocalStorage();\n\t}\n\n\tsetDefaultFilters() {\n\t\tthis.filtersData =\n\t\t\tJSON.parse(localStorage.getItem(this.STORAGE_FILTERS_KEY)) ||\n\t\t\tnew Map(this.defaultFilters);\n\t}\n\n\tsaveFiltersToLocalStorage() {\n\t\tlocalStorage.setItem(\n\t\t\tthis.STORAGE_FILTERS_KEY,\n\t\t\tJSON.stringify([...this.filtersData])\n\t\t);\n\t}\n\n\tupdateFilters({ key, value }) {\n\t\tif (this.filtersData.get(key) !== value) {\n\t\t\tthis.filtersData.set(key, value);\n\t\t\tthis.saveFiltersToLocalStorage();\n\t\t}\n\t}\n\n\tsearchOptionForLocalStorage({ key, value }) {\n\t\tthis.updateFilters({ key, value });\n\t\tconsole.log(Object.fromEntries([...this.filtersData]));\n\t}\n}\n\nconsole.log(Filters);\n"],"names":["axios","getCategoryList","data","getCurrentProducts","value","category","page","limit","sortBy","params","cardProduct","cardContainer","loaderEl","products","cardMarkup","error","img","name","size","popularity","price","refs","renderSelectList","err","placeholderStr","markupSelectList","elem","SlimSelect","filtersInstance","Filters","evt","key"],"mappings":"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"}