{"version":3,"file":"commonHelpers2.js","sources":["../src/js/home-content/main-products/main-projects.js","../src/js/cart-content/cart-products-list/cart-products-list.js","../src/js/services/helpers.js","../src/js/filters/filters.js","../src/js/home-content/main-products/pagination.js","../src/js/modals/modal-product/modal-product.js","../src/js/home-content/popular-products/popular-products.js","../src/js/home-content/discount-products/discount-products.js"],"sourcesContent":["export { cardMarkup };\n\n\n\nfunction cardMarkup(products) {\n\treturn products\n\t\t.map(\n\t\t\t({ img, name, category, size, popularity, _id, price }) =>\n\t\t\t\t`<li class=\"card-wrapper\" data-id=\"${_id}\">\n\t\t\t\t\t<div class=\"image-wrapper\">\n\t\t\t\t\t<img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"product-image\" width=\"140\" height=\"140\" />\n\t\t\t\t\t</div>\n\t\t   <div class=\"product-info\">\n\t\t\t<p class=\"product-name\">\n\t\t\t\t${name}\n\t\t\t </p>\n\t\t\t<div class =\"product-items\">\n\t\t\t<p  class=\"product-item\">\n\t\t\tCategory:<span class=\"product-more-info\"> &nbsp;${category.replaceAll(\n\t\t\t\t'_',\n\t\t\t\t' '\n\t\t\t)}</span>\n\t\t  </p>\n\t\t  <p class=\"product-item\">\n\t\t\tSize:<span class=\"product-more-info\"> &nbsp;${size}</span>\n\t\t  </p>\n\t\t  <p class=\"product-item\">\n\t\t\tPopularity:<span class=\"product-more-info\"> &nbsp;${popularity}</span>\n\t\t  </p></div>\n\t\t\t \n\t\t   </div>\n\t\t   <div class=\"price-and-add\">\n\t\t\t <p class=\"product-price\">$${price}</p>\n\t\t\t <button class=\"add-button\" type=\"button\" data-id=\"${_id}\">\n\t\t\t <svg class=\"icon-button\"width=\"18\" height=\"18\">\n             <use href=\"/icons.svg#icon-cart-mob\" class=\"svg-change\">\n             </use>\n\t\t\t </svg>\n\t\t\t </button>\n\t\n\t\t\t </div>\n\t\t   \n\t\t   </li>`\n\t\t)\n\n\t\t.join('');\n}\n\n// export async function onAddButtonClick(event) {\n// \tconst productID = event.currentTarget.dataset.id;\n// \tconsole.log(productID);\n\n// \ttry {\n// \t\tconst product = await getProductById(productID);\n\n// \t\tsavedProducts.push(product);\n// \t\tlocalStorage.setItem('products', JSON.stringify(savedProducts));\n\n// \t\tconst savedProducts = JSON.parse(localStorage.getItem('products')) || [];\n// \t\tconsole.log(savedProducts);\n\n// \t\tconst cardCount = document.querySelector('.cart__item-count');\n\n// \t\t// const cardProductBasketList = document.querySelector('.js-cart-products');\n// \t\t// \tconsole.log(cardProductBasketList)\n// \t\t// cardProductBasketList.insertAdjacentHTML(\n// \t\t// \t'beforeend',\n// \t\t// \tbasketProductMarkUp(product)\n// \t\t// );\n\n// \t\tconst addButtons = document.querySelectorAll('.add-button');\n\n// \t\tfor (const addButton of addButtons) {\n// \t\t\tconst buttonID = addButton.dataset.id;\n\n// \t\t\tif (buttonID === productID) {\n// \t\t\t\taddButton.removeEventListener('click', onAddButtonClick);\n// \t\t\t\tconst useElement = addButton.querySelector('svg use');\n// \t\t\t\taddButton.style.backgroundColor = '#6D8434';\n\n// \t\t\t\tuseElement.setAttribute('href', './icons.svg#icon-cart-success');\n// \t\t\t}\n// \t\t}\n// \t} catch (err) {\n// \t\tthrow new Error(err);\n// \t}\n// }\n\nexport function basketProductMarkUp({\n\timg,\n\tname,\n\tcategory,\n\tsize,\n\tpopularity,\n\t_id,\n\tprice,\n}) {\n\treturn `<li class=\"card-wrapper\" data-id=\"${_id}\">\n            <div class=\"image-wrapper\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"product-image\" width=\"140\" height=\"140\" />\n            </div>\n            <div class=\"product-info\">\n            <p class=\"product-name\">\n            ${name}\n            </p>\n            <div class =\"product-items\">\n            <p  class=\"product-item\">\n            Category:<span class=\"product-more-info\"> &nbsp;${category.replaceAll(\n\t\t\t\t\t\t\t'_',\n\t\t\t\t\t\t\t' '\n\t\t\t\t\t\t)}</span>\n            </p>\n            <p class=\"product-item\">\n            Size:<span class=\"product-more-info\"> &nbsp;${size}</span>\n            </p>\n            <p class=\"product-item\">\n            Popularity:<span class=\"product-more-info\"> &nbsp;${popularity}</span>\n            </p></div>\n            \n            </div>\n            <div class=\"price-and-add\">\n            <p class=\"product-price\">$${price}</p>\n            <button class=\"add-button\" type=\"button\" data-id=\"${_id}\">\n            <svg class=\"icon-button\"width=\"18\" height=\"18\">\n            <use href=\"/icons.svg#icon-cart-mob\" >\n            </use></svg>\n            </button>\n            \n            </div>\n            \n            </li>`;\n}\n","import { getProductById } from \"../../services/food-api\";\nimport { basketProductMarkUp } from \"../../home-content/main-products/main-projects\";\n\n\n\nexport async function onAddButtonClick(event) {\n\tconst productID = event.currentTarget.dataset.id;\n\tconsole.log(productID);\n\n\ttry {\n\t\tconst product = await getProductById(productID);\n\n        const savedProducts = JSON.parse(localStorage.getItem('products')) || [];\n\t\tconsole.log(savedProducts);\n\n\t\tsavedProducts.push(product);\n\t\tlocalStorage.setItem('products', JSON.stringify(savedProducts));\n\n\t\t\n\n\t\t// const cardCount = document.querySelector('.cart__item-count');\n        // console.log(cardCount)\n\n\t\t// const cardProductBasketList = document.querySelector('.js-cart-products');\n\t\t// \tconsole.log(cardProductBasketList)\n\t\t// cardProductBasketList.insertAdjacentHTML(\n\t\t// \t'beforeend',\n\t\t// \tbasketProductMarkUp(product)\n\t\t// );\n\n\t\tconst addButtons = document.querySelectorAll('.add-button');\n\n\t\tfor (const addButton of addButtons) {\n\t\t\tconst buttonID = addButton.dataset.id;\n\n\t\t\tif (buttonID === productID) {\n\t\t\t\taddButton.removeEventListener('click', onAddButtonClick);\n\t\t\t\tconst useElement = addButton.querySelector('svg use');\n\t\t\t\taddButton.style.backgroundColor = '#6D8434';\n\n\t\t\t\tuseElement.setAttribute('href', './icons.svg#icon-cart-success');\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tthrow new Error(err);\n\t}\n}\n\n\n\n\n\n\n// document.addEventListener('DOMContentLoaded', function () {\n// \trenderCart();\n// });\n\n// function renderCart() {\n// \tconst cartContainer = document.getElementById('cartContainer');\n// \tcartContainer.innerHTML = '';\n\n// \tconst productsInCart = getProductsFromLocalStorage();\n\n// \tif (productsInCart.length === 0) {\n// \t\tcartContainer.innerHTML = '<p>Your basket is empty...</p>';\n// \t} else {\n// \t\tproductsInCart.forEach(product => {\n// \t\t\tconst productCard = createProductCard(product);\n// \t\t\tcartContainer.appendChild(productCard);\n// \t\t});\n// \t}\n// }\n\n// function createProductCard(product) {\n// \tconst card = document.createElement('div');\n// \tcard.classList.add('product-card');\n\n// \tconst image = document.createElement('img');\n// \timage.src = product.image;\n// \timage.alt = product.name;\n// \timage.classList.add('product-image');\n\n// \tconst name = document.createElement('p');\n// \tname.innerText = `${product.name}`;\n\n// \tconst category = document.createElement('p');\n// \tcategory.innerText = `Category: ${product.category}`;\n\n// \tconst size = document.createElement('p');\n// \tsize.innerText = `Size: ${product.size}`;\n\n// \tconst cost = document.createElement('p');\n// \tcost.innerText = `$${product.cost}`;\n\n// \tconst deleteButton = document.createElement('button');\n// \tdeleteButton.innerHTML = '&#10006;'; // Close (X) icon\n// \tdeleteButton.classList.add('delete-button');\n// \tdeleteButton.onclick = function () {\n// \t\tdeleteProductFromCart(product.id);\n// \t};\n\n// \tcard.appendChild(image);\n// \tcard.appendChild(name);\n// \tcard.appendChild(category);\n// \tcard.appendChild(size);\n// \tcard.appendChild(cost);\n// \tcard.appendChild(deleteButton);\n\n// \treturn card;\n// }\n\n// function getProductsFromLocalStorage() {\n// \t// Retrieve products from localStorage\n// \t// Replace this with your actual localStorage logic\n// \treturn [];\n// }\n\n// function deleteProductFromCart(productId) {\n// \t// Delete product from localStorage\n// \t// Replace this with your actual localStorage logic\n\n// \t// After deleting, re-render the cart\n// \trenderCart();\n// }\n\n// function deleteAll() {\n// \t// Delete all products from localStorage\n// \t// Replace this with your actual localStorage logic\n\n// \t// After deleting, re-render the cart\n// \trenderCart();\n// }\n","import Notiflix from 'notiflix';\n\nexport function saveToLS(key, value) {\n\tlocalStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function loadFromLS(key) {\n\tconst data = localStorage.getItem(key);\n\n\ttry {\n\t\treturn JSON.parse(data);\n\t} catch (error) {\n\t\tNotiflix.Notify.failure('Oops! Something went wrong!');\n\t\treturn data;\n\t}\n}\n","import { getCategoryList } from '../services/food-api';\nimport { cardMarkup } from '../home-content/main-products/main-projects';\nimport { getCurrentProducts } from '../services/food-api';\nimport { saveToLS } from '../services/helpers';\nimport SlimSelect from 'slim-select';\n\nconst refs = {\n\tselectEl: document.querySelector('.filters-categories-select'),\n\tcardProduct: document.querySelector('.product-list'),\n\tformEl: document.querySelector('.filters-form'),\n};\n\nexport let filters = {\n\tkeyword: '',\n\tcategory: '',\n\tpage: 1,\n\tlimit: 6,\n};\n\nchangingLimit();\n\ngetCategoryList()\n\t.then(data => {\n\t\trenderSelectList(data);\n\t})\n\t.catch(err => console.log(err));\n\nfunction renderSelectList(data) {\n\tconst placeholderStr = `<option disabled selected value=\"Show All\" hidden data-placeholder=\"true\">Categories</option>`;\n\n\trefs.selectEl.insertAdjacentHTML('afterbegin', placeholderStr);\n\n\tconst markupSelectList = data\n\t\t.map(elem => {\n\t\t\treturn `<option value=\"${elem}\">${elem.replaceAll('_', ' ')}</option>`;\n\t\t})\n\t\t.join('')\n\t\t.concat(`<option value=\"\">Show All</option>`);\n\n\trefs.selectEl.insertAdjacentHTML('beforeend', markupSelectList);\n\n\tnew SlimSelect({\n\t\tselect: refs.selectEl,\n\t\tsettings: {\n\t\t\tshowSearch: false,\n\t\t\tsearchHighlight: true,\n\t\t},\n\t});\n}\n\nrefs.formEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n\tevt.preventDefault();\n\tfilters.page = 1;\n\tfilters.keyword = evt.currentTarget.elements.searchQuery.value\n\t\t.trim()\n\t\t.toLowerCase()\n\t\t.split(' ')\n\t\t.join(' ');\n\tsaveToLS('filters-parameters', filters);\n\trenderProductList();\n}\n\nrefs.selectEl.addEventListener('change', onSelect);\n\nfunction onSelect(evt) {\n\tfilters.category = evt.target.value;\n\tfilters.page = 1;\n\tsaveToLS('filters-parameters', filters);\n\trenderProductList();\n}\n\n// ******************************\nconst hiddenForm = document.querySelector('.main-content-nothing');\nconst paginationHidden = document.querySelector('.pagination');\nconst cardContainerHidden = document.querySelector('.card-container');\nhiddenForm.style.display = 'none';\n// *******************************\n\nexport async function renderProductList() {\n\ttry {\n\t\tconst data = await getCurrentProducts(filters);\n\n\t\t// *********************\n\t\tif (!data.results.length) {\n\t\t\thiddenForm.style.display = 'block';\n\t\t\tpaginationHidden.style.display = 'none';\n\t\t\tcardContainerHidden.style.display = 'none';\n\t\t} else {\n\t\t\thiddenForm.style.display = 'none';\n\t\t\tpaginationHidden.style.display = 'block';\n\t\t\tcardContainerHidden.style.display = 'block';\n\t\t\trefs.cardProduct.innerHTML = cardMarkup(data.results);\n\t\t}\n\t\t// *********************\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport function changingLimit() {\n\tif (window.innerWidth >= 1440) {\n\t  filters.limit = 9;\n\t} else if (window.innerWidth >= 768) {\n\t  filters.limit = 8;\n\t} else {\n\t  filters.limit = 6;\n\t}\n  \n\treturn filters.limit;\n  }","import { getCurrentProducts, getCategoryList } from '../../services/food-api.js';\nimport { cardMarkup } from './main-projects.js';\nimport { filters, changingLimit } from '../../filters/filters.js';\nimport { saveToLS } from '../../services/helpers.js';\nimport SlimSelect from 'slim-select';\nimport { onAddButtonClick } from '../../cart-content/cart-products-list/cart-products-list.js';\n\n// Отримання DOM-елементів\nconst cardProduct = document.querySelector('.product-list');\nconst paginationElement = document.querySelector('.pagination ul');\nconst loaderEl = document.querySelector('.loader');\n\n// Ініціалізація змінних для фільтрів та загальної кількості сторінок\nlet newFilters = filters;\nlet totalPages = 0;\n\n// Обробник події завантаження DOM\ndocument.addEventListener('DOMContentLoaded', async function () {\n  // Додавання слухача події resize\n  window.addEventListener('resize', handleResize);\n  // Оновлення продуктів при завантаженні сторінки\n  await updateProducts();\n\n  // Функція обробки події resize\n  function handleResize() {\n    changingLimit(); // Оновлюємо ліміт при зміні розміру вікна\n    updateProducts(); // Викликаємо оновлення продуктів\n  }\n\n  // Функція оновлення списку продуктів\n  async function updateProducts() {\n    saveToLS('filters-parameters', filters);\n\n    try {\n      const data = await getCurrentProducts(filters);\n      loaderEl.style.display = 'none';\n      const products = data.results;\n      totalPages = data.totalPages;\n\n      cardProduct.innerHTML = cardMarkup(products);\n\n      const addButtons = document.querySelectorAll('.add-button');\n      // Додавання слухача події click до кожної кнопки \"Додати в кошик\"\n      for (const addButton of addButtons) {\n        addButton.addEventListener('click', onAddButtonClick);\n      }\n\n      updatePagination();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // Функція оновлення пагінації\n  function updatePagination() {\n    // Перевірка, чи кількість сторінок менше або дорівнює 1\n    if (totalPages <= 1) {\n      paginationElement.innerHTML = ''; // Якщо так, то приховати пагінацію\n      return;\n    }\n\n    // Оновлення HTML-коду пагінації\n    paginationElement.innerHTML = paginationHTML(totalPages, newFilters.page);\n    const pageButtons = document.querySelectorAll('.pagination li:not(.disabled)');\n\n    // Додавання слухача події click для кожної кнопки пагінації\n    pageButtons.forEach(button => {\n      button.addEventListener('click', async event => {\n        const pageNumber = parseInt(event.currentTarget.dataset.page);\n        if (!isNaN(pageNumber) && pageNumber !== newFilters.page) {\n          newFilters.page = pageNumber;\n          await updateProducts();\n        }\n      });\n    });\n  }\n\n  // Додавання слухача події submit до форми фільтрів\n  document.querySelector('.filters-form').addEventListener('submit', async function (evt) {\n    evt.preventDefault();\n    newFilters.page = 1;\n    newFilters.keyword = evt.currentTarget.elements.searchQuery.value.trim().toLowerCase().split(' ').join(' ');\n    saveToLS('filters-parameters', newFilters);\n    await updateProducts();\n  });\n\n  // Додавання слухача події change для вибору категорій\n  document.querySelector('.filters-categories-select').addEventListener('change', async function (evt) {\n    newFilters.category = evt.target.value;\n    newFilters.page = 1;\n    saveToLS('filters-parameters', newFilters);\n    await updateProducts();\n  });\n\n  // Ініціалізація SlimSelect для вибору категорій\n  const selectEl = document.querySelector('.filters-categories-select');\n  getCategoryList()\n    .then(data => {\n      renderSelectList(data);\n    })\n    .catch(err => console.log(err));\n\n  // Функція відображення вибору категорій\n  function renderSelectList(data) {\n    const placeholderStr = `<option disabled selected value=\"Show All\" hidden data-placeholder=\"true\">Categories</option>`;\n\n    selectEl.insertAdjacentHTML('afterbegin', placeholderStr);\n\n    const markupSelectList = data\n      .map(elem => {\n        return `<option value=\"${elem}\">${elem.replaceAll('_', ' ')}</option>`;\n      })\n      .join('')\n      .concat(`<option value=\"\">Show All</option>`);\n\n    selectEl.insertAdjacentHTML('beforeend', markupSelectList);\n\n    new SlimSelect({\n      select: selectEl,\n      settings: {\n        showSearch: false,\n        searchHighlight: true,\n      },\n    });\n  }\n\n  // Функція генерації HTML-коду пагінації\n  function paginationHTML(totalPages, currentPage) {\n    let liTag = '';\n    const maxVisibleButtons = 5;\n    const halfVisibleButtons = Math.floor(maxVisibleButtons / 2);\n    let startPage = currentPage - halfVisibleButtons;\n    let endPage = currentPage + halfVisibleButtons;\n\n    if (startPage < 1) {\n      startPage = 1;\n      endPage = Math.min(totalPages, startPage + maxVisibleButtons - 1);\n    }\n\n    if (endPage > totalPages) {\n      endPage = totalPages;\n      startPage = Math.max(1, endPage - maxVisibleButtons + 1);\n    }\n\n    if (currentPage > 1) {\n      liTag += `<li class=\"btn prev\" data-page=\"${currentPage - 1}\"><span>&lt;</span></li>`;\n    } else {\n      liTag += `<li class=\"btn prev disabled\"><span>&lt;</span></li>`;\n    }\n\n    if (startPage > 1) {\n      liTag += `<li class=\"first numb\" data-page=\"1\"><span>1</span></li>`;\n      if (startPage > 2) {\n        liTag += `<li class=\"dots\"><span>...</span></li>`;\n      }\n    }\n\n    for (let page = startPage; page <= endPage; page++) {\n      const active = page === currentPage ? 'active' : '';\n      liTag += `<li class=\"numb ${active}\" data-page=\"${page}\"><span>${page}</span></li>`;\n    }\n\n    if (endPage < totalPages) {\n      if (endPage < totalPages - 1) {\n        liTag += `<li class=\"dots\"><span>...</span></li>`;\n      }\n      liTag += `<li class=\"last numb\" data-page=\"${totalPages}\"><span>${totalPages}</span></li>`;\n    }\n\n    if (currentPage < totalPages) {\n      liTag += `<li class=\"btn next\" data-page=\"${currentPage + 1}\"><span>&gt;</span></li>`;\n    } else {\n      liTag += `<li class=\"btn next disabled\"><span>&gt;</span></li>`;\n    }\n\n    return liTag;\n  }\n});\n","import { getProductById } from '../../services/food-api';\nfunction toggleMenu() {\n\tproductmodal.classList.toggle('is-hidden');\n}\nexport function clickproduct(id) {\n\tconst productmodal = document.getElementById('productmodal');\n\tgetProductById(id).then(({ data }) => {\n\t\tproductmodal.innerHTML = createModalContent(data);\n\t\topenProductModal(productmodal);\n\t});\n}\n\nfunction openProductModal(productmodal) {\n\tconst closeButton = productmodal.querySelector('.mod-card-close');\n\tcloseButton.addEventListener('click', closeProductModal);\n\tproductmodal.style.display = 'flex';\n\ttoggleMenu();\n}\n\nfunction closeProductModal() {\n\tconst productmodal = document.getElementById('productmodal');\n\tproductmodal.style.display = 'none';\n\ttoggleMenu();\n}\n\nfunction createModalContent(data) {\n\treturn `<div class=\"modal-2-wrap\">\n\t<div class=\"modal-img-wrap\">\n                <div class=\"modal-img-section\">\n                    <a class=\"modal-gallery-link\" >\n                        <img src=\"${data.img}\" alt=\"${\n\t\tdata.name\n\t}\" width=\"160\" height=\"160\" loading=\"lazy\" />\n                    </a>\n                </div>\n                <div class=\"modal-center-section\">\n\t\t\t\t\t<div class=\"modal-section-up\">\n                \t\t<p class=\"modal-info-item\">${data.name}</p>\t\t\n                        <div class=\"modal-subsection\">\n                        <p class=\"modal-category-item\">Category: <span>${data.category.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'_',\n\t\t\t\t\t\t\t\t\t\t\t\t\t' '\n\t\t\t\t\t\t\t\t\t\t\t\t)}</span>Size:<span>${data.size}</span></p>\n                \t\t<p class=\"modal-popularity-item\"></span>Popularity:<span>${\n\t\t\t\t\t\t\t\t\t\t\tdata.popularity\n\t\t\t\t\t\t\t\t\t\t}</span></p>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t    </div>\n                    </div>\n\t\t\t\t\t<div class=\"modal-section-down\">\n                    <p class=\"modal-desc-item\">${data.desc}</p>\n                \t</div>\n                 </div> \n\t\t\t\t</div>\n\t\t\t\t <div class=\"modal-price-button\">\n                    <p class=\"modal-info-item\">$${data.price}</p>\t\n                    <button class=\"modal-button-section add-to-cart\" type=\"button\" data-id=\"${\n\t\t\t\t\t\t\t\t\t\t\tdata._id\n\t\t\t\t\t\t\t\t\t\t}\">\n         <span class=\"button-cart\">Add to</span>\n        <svg class=\"modal-icon-button\" width=\"18\" height=\"18\">\n            <use href=\"../../../icons.svg#icon-cart-mob\"></use>\n        </svg>\n    </button>\n                    </div>\n\t\t\t\t<button class=\"modal-close-button mod-card-close\" type=\"button\">\n   \t\t\t\t <svg class=\"close-sharp\">\n       \t\t\t\t <use href=\"../../../icons.svg#close-sharp\"></use>\n     \t\t\t </svg>\n    \t\t\t</button>\n            </div>`;\n}\n","import { getPopularProducts } from '../../services/food-api';\nimport { clickproduct } from '../../modals/modal-product/modal-product';\nconst popular = document.querySelector('.popular-list');\n\nlet limit = 5;\npopular.innerHTML = '';\ngetPopularProducts(limit).then(data => {\n\tpopular.innerHTML = createMarkup(data);\n});\n\ndocument.addEventListener('click', function (event) {\n\tconst popularCard = event.target.closest('.popular-card');\n\tif (popularCard) {\n\t\tconst productId = popularCard.dataset.productId;\n\t\t// console.log('ID:', productId);\n\t\tclickproduct(productId);\n\t}\n});\n\nfunction createMarkup(array) {\n\treturn array\n\t\t.slice(0, limit)\n\t\t.map(\n\t\t\t({\n\t\t\t\t_id,\n\t\t\t\tname,\n\t\t\t\timg,\n\t\t\t\tcategory,\n\t\t\t\tprice,\n\t\t\t\tsize,\n\t\t\t\tis10PercentOff,\n\t\t\t\tpopularity,\n\t\t\t}) => {\n\t\t\t\treturn `<li class=\"popular-card\" data-product-id=\"${_id}\">\n            <div class=\"popular-img-wrap\">\n                <div class=\"popular-left-section\">\n                    <a class=\"popular-gallery-link\" >\n                        <img src=\"${img}\" alt=\"${name}\" width=\"56\" height=\"56\" loading=\"lazy\" />\n                    </a>\n                </div>\n                <div class=\"popular-center-section\">\n\t\t\t\t\t<div class=\"center-section-up\">\n                \t\t<p class=\"popular-info-item\">${name.substring(0, 15)}</p>\n\t\t\t\t\t\t<button class=\"add-popular-button add-button\" type=\"button\" data-id=\"${_id}\">\n\t\t\t\t\t\t\t<svg class=\"popular-icon-button\" width=\"12\" height=\"12\">\n\t\t \t\t\t\t\t<use href=\"../../../icons.svg#icon-cart-mob\" >\n\t\t \t\t\t\t\t</use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"center-section-down\">\n                \t\t<p class=\"popular-category-item\">Category: <span>${category.replace(\n\t\t\t\t\t\t\t\t\t\t\t'_',\n\t\t\t\t\t\t\t\t\t\t\t' '\n\t\t\t\t\t\t\t\t\t\t)}</span></p>\n                \t\t<p class=\"popular-size-item\">Size:<span>${size}</span>Popularity:<span>${popularity}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n        </li>`;\n\t\t\t}\n\t\t)\n\t\t.join('');\n}\n","import { getDiscountProducts } from '../../services/food-api';\nimport { clickproduct } from '../../modals/modal-product/modal-product';\nconst discount = document.querySelector('.discount-list');\n\ndiscount.innerHTML = '';\ngetDiscountProducts().then(data => {\n\tdiscount.innerHTML = createMarkup(data);\n});\n\ndocument.addEventListener('click', function (event) {\n\tconst discountCard = event.target.closest('.discount-card');\n\tif (discountCard) {\n\t\tconst productId = discountCard.dataset.productId;\n\t\t// console.log('ID:', productId);\n\t\tclickproduct(productId);\n\t}\n});\n\nfunction getRandomElements(array, count) {\n\tconst shuffledArray = array.slice().sort(() => Math.random() - 0.5);\n\treturn shuffledArray.slice(0, count);\n}\n\nfunction createMarkup(array) {\n\tconst selectedElements = getRandomElements(array, 2);\n\n\treturn selectedElements\n\t\t.map(\n\t\t\t({\n\t\t\t\t_id,\n\t\t\t\tname,\n\t\t\t\timg,\n\t\t\t\tcategory,\n\t\t\t\tprice,\n\t\t\t\tsize,\n\t\t\t\tis10PercentOff,\n\t\t\t\tpopularity,\n\t\t\t}) => {\n\t\t\t\treturn `<li class=\"discount-card\" data-product-id=\"${_id}\">\n            <div class=\"discount-img-wrap\">\n\t\t\t  <div class=\"discount-top-section\">\n               <a class=\"discount-gallery-link\" >\n                <img src=\"${img}\" alt=\"${name}\" width=\"114\" height=\"114\" loading=\"lazy\" />\n               </a>\n\t\t\t  </div>\n\t\t\t  <div class=\"discount-product\">\n              \t<p class=\"discount-info-item\">${name.substring(0, 19)}</p>\n\t\t\t\t<div class=\"discount-prisce-button\">\n             \t<p class=\"discount-price-item\">$${price}</p>\n             \t<button class=\"add-discount-button add-button\" type=\"button\" data-id=\"${_id}>\n\t\t\t\t\t<svg class=\"discount-icon-button bagbag\" width=\"18\" height=\"18\">\n\t\t \t\t\t<use href=\"../../../icons.svg#cart\" >\n\t\t \t\t\t</use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t\t<svg class=\"discount-icon\" width=\"60\" height=\"60\">\n                <use href=\"/icons.svg#icon-discount\" alt=\"Discount\"></use>\n                </svg>\n            </div>\n          </li>`;\n\t\t\t}\n\t\t)\n\t\t.join('');\n}\n"],"names":["cardMarkup","products","img","name","category","size","popularity","_id","price","onAddButtonClick","event","productID","product","getProductById","savedProducts","addButtons","addButton","useElement","err","saveToLS","key","value","refs","filters","changingLimit","getCategoryList","data","renderSelectList","placeholderStr","markupSelectList","elem","SlimSelect","onSubmit","evt","renderProductList","onSelect","hiddenForm","paginationHidden","cardContainerHidden","getCurrentProducts","cardProduct","paginationElement","loaderEl","newFilters","totalPages","handleResize","updateProducts","updatePagination","error","paginationHTML","button","pageNumber","selectEl","currentPage","liTag","halfVisibleButtons","startPage","endPage","page","toggleMenu","clickproduct","id","productmodal","createModalContent","openProductModal","closeProductModal","popular","limit","getPopularProducts","createMarkup","popularCard","productId","array","is10PercentOff","discount","getDiscountProducts","discountCard","getRandomElements","count"],"mappings":"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"}