{"version":3,"file":"commonHelpers.js","sources":["../src/js/cart-content/cart-products-list/cart-products-list.js"],"sourcesContent":["import { getProductById } from '../../services/food-api';\nimport { basketProductMarkUp } from '../../home-content/main-products/main-projects';\nimport { loadFromLS } from '../../services/helpers';\nimport icons from '/icons.svg';\n\nconst cartContainer = document.querySelector('.cart-container');\nloadFromLocalStorageCart();\n\nconst savedProductsBasket = loadFromLS('products');\n\n// const cartValue = document.querySelector('.js-cart-counter');\nconst emptySectionEmpty = document.getElementById('#cart');\n// cartValue.textContent = savedProductsBasket.length;\nconst sectionProductList = document.querySelector('.cart-content-wrap');\n\nconst cardProductBasketList = document.querySelector('.js-cart-products');\nconsole.log(cardProductBasketList);\ncardProductBasketList.insertAdjacentHTML(\n\t'beforeend',\n\tcreateBascetProductMarcup(savedProductsBasket)\n);\n\nexport function loadFromLocalStorageCart() {\n\tconst storageLength = loadFromLS('products');\n\treturn storageLength.length >= 1\n\t\t? (cartContainer.style.display = 'none')\n\t\t: (cartContainer.style.display = 'block');\n}\n\nloadFromLocalStorageCart();\n\nconst totalSummary = document.querySelector('.total__price');\nexport function createTotalNum() {\n\tconst totalStorageNum = loadFromLS('products');\n\tconst total = totalStorageNum.reduce((acc, el) => (acc += el.data.price), 0);\n\ttotalSummary.textContent = `$${total}`;\n}\n\ncreateTotalNum();\n\nconst deleteAllBtn = document.querySelector('.cart__delete-button');\n\ndeleteAllBtn.addEventListener('click', onDeleteAllBtnClick);\n\nexport function onDeleteAllBtnClick() {\n\tlocalStorage.removeItem('products');\n\tlocalStorage.setItem('products', JSON.stringify([]));\n\t// console.log(localStorage.getItem('products'));\n\t// const test = localStorage.getItem('products', JSON.parse())\n\tconst test = JSON.parse(localStorage.getItem('products'));\n\tif (test.length === 0) {\n\t\tsectionProductList.style.display = 'none';\n\t\tcartContainer.style.display = 'block';\n\t}\n}\n// onDeleteAllBtnClick()\n// onDeleteAllBtnClick()\nfunction createBascetProductMarcup(arr) {\n\treturn arr\n\t\t.map(\n\t\t\tproduct =>\n\t\t\t\t`<li class=\"cart-item\" data-id=\"${product.data._id}\">\n\t\t\t\t\t\t<div class=\"cart-item-wrap\">\n\t\t\t\t\t\t\t<div class=\"cart-img-container\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclass=\"cart-img\"\n\t\t\t\t\t\t\t\t\tsrc=\"${product.data.img}\"\n\t\t\t\t\t\t\t\t\talt=\"${product.data.name}\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"cart-img-text\">\n\t\t\t\t\t\t\t\t<div class=\"cart-item-title-wrap\">\n\t\t\t\t\t\t\t\t\t<h3 class=\"cart-item-title\">${product.data.name}</h3>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tname=\"button\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cart-btn-close\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Close modal window\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg width=\"18\" height=\"18\" class=\"cart-icon-close\">\n\t\t\t\t\t\t\t\t\t\t\t<use href=\"${icons}#icon-icon-close\"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"cart-info-container\">\n\t\t\t\t\t\t\t\t\t<p class=\"cart-info\">\n\t\t\t\t\t\t\t\t\t\tCategory:\n\t\t\t\t\t\t\t\t\t\t<span>${product.data.category.replaceAll('_', ' ')}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p class=\"cart-info cart-info-overflow\">\n\t\t\t\t\t\t\t\t\t\tSize:\n\t\t\t\t\t\t\t\t\t\t<span>${product.data.size}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<h3 class=\"cart-info-price\">${product.data.price}</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>`\n\t\t)\n\t\t.join('');\n}\nconsole.log(createBascetProductMarcup);\n\n/****************************** */\n\n// const ID = savedProductsBasket.map((savedProduct) => {\n// console.log(savedProduct)\n\n// })\n\n// export async function onAddButtonClick(event) {\n// \tconst productID = event.currentTarget.dataset.id;\n// \tconsole.log(productID);\n\n// \ttry {\n// \t\tconst product = await getProductById(productID);\n\n//         const savedProducts = JSON.parse(localStorage.getItem('products')) || [];\n// \t\tconsole.log(savedProducts);\n\n// \t\tsavedProducts.push(product);\n// \t\tlocalStorage.setItem('products', JSON.stringify(savedProducts));\n\n// \t\t// const cardCount = document.querySelector('.cart__item-count');\n//         // console.log(cardCount)\n\n// \t\t// const cardProductBasketList = document.querySelector('.js-cart-products');\n// \t\t// \tconsole.log(cardProductBasketList)\n// \t\t// cardProductBasketList.insertAdjacentHTML(\n// \t\t// \t'beforeend',\n// \t\t// \tbasketProductMarkUp(product)\n// \t\t// );\n\n// \t\tconst addButtons = document.querySelectorAll('.add-button');\n\n// \t\tfor (const addButton of addButtons) {\n// \t\t\tconst buttonID = addButton.dataset.id;\n\n// \t\t\tif (buttonID === productID) {\n// \t\t\t\taddButton.removeEventListener('click', onAddButtonClick);\n// \t\t\t\tconst useElement = addButton.querySelector('svg use');\n// \t\t\t\taddButton.style.backgroundColor = '#6D8434';\n\n// \t\t\t\tuseElement.setAttribute('href', './icons.svg#icon-cart-success');\n// \t\t\t}\n// \t\t}\n// \t} catch (err) {\n// \t\tthrow new Error(err);\n// \t}\n// }\n\n// document.addEventListener('DOMContentLoaded', function () {\n// \trenderCart();\n// });\n\n// function renderCart() {\n// \tconst cartContainer = document.getElementById('cartContainer');\n// \tcartContainer.innerHTML = '';\n\n// \tconst productsInCart = getProductsFromLocalStorage();\n\n// \tif (productsInCart.length === 0) {\n// \t\tcartContainer.innerHTML = '<p>Your basket is empty...</p>';\n// \t} else {\n// \t\tproductsInCart.forEach(product => {\n// \t\t\tconst productCard = createProductCard(product);\n// \t\t\tcartContainer.appendChild(productCard);\n// \t\t});\n// \t}\n// }\n\n// function createProductCard(product) {\n// \tconst card = document.createElement('div');\n// \tcard.classList.add('product-card');\n\n// \tconst image = document.createElement('img');\n// \timage.src = product.image;\n// \timage.alt = product.name;\n// \timage.classList.add('product-image');\n\n// \tconst name = document.createElement('p');\n// \tname.innerText = `${product.name}`;\n\n// \tconst category = document.createElement('p');\n// \tcategory.innerText = `Category: ${product.category}`;\n\n// \tconst size = document.createElement('p');\n// \tsize.innerText = `Size: ${product.size}`;\n\n// \tconst cost = document.createElement('p');\n// \tcost.innerText = `$${product.cost}`;\n\n// \tconst deleteButton = document.createElement('button');\n// \tdeleteButton.innerHTML = '&#10006;'; // Close (X) icon\n// \tdeleteButton.classList.add('delete-button');\n// \tdeleteButton.onclick = function () {\n// \t\tdeleteProductFromCart(product.id);\n// \t};\n\n// \tcard.appendChild(image);\n// \tcard.appendChild(name);\n// \tcard.appendChild(category);\n// \tcard.appendChild(size);\n// \tcard.appendChild(cost);\n// \tcard.appendChild(deleteButton);\n\n// \treturn card;\n// }\n\n// function getProductsFromLocalStorage() {\n// \t// Retrieve products from localStorage\n// \t// Replace this with your actual localStorage logic\n// \treturn [];\n// }\n\n// function deleteProductFromCart(productId) {\n// \t// Delete product from localStorage\n// \t// Replace this with your actual localStorage logic\n\n// \t// After deleting, re-render the cart\n// \trenderCart();\n// }\n\n// function deleteAll() {\n// \t// Delete all products from localStorage\n// \t// Replace this with your actual localStorage logic\n\n// \t// After deleting, re-render the cart\n// \trenderCart();\n// }\n"],"names":["cartContainer","loadFromLocalStorageCart","savedProductsBasket","loadFromLS","sectionProductList","cardProductBasketList","createBascetProductMarcup","totalSummary","createTotalNum","total","acc","el","deleteAllBtn","onDeleteAllBtnClick","arr","product","icons"],"mappings":"kGAKA,MAAMA,EAAgB,SAAS,cAAc,iBAAiB,EAC9DC,IAEA,MAAMC,EAAsBC,EAAW,UAAU,EAGvB,SAAS,eAAe,OAAO,EAEzD,MAAMC,EAAqB,SAAS,cAAc,oBAAoB,EAEhEC,EAAwB,SAAS,cAAc,mBAAmB,EACxE,QAAQ,IAAIA,CAAqB,EACjCA,EAAsB,mBACrB,YACAC,EAA0BJ,CAAmB,CAC9C,EAEO,SAASD,GAA2B,CAE1C,OADsBE,EAAW,UAAU,EACtB,QAAU,EAC3BH,EAAc,MAAM,QAAU,OAC9BA,EAAc,MAAM,QAAU,OACnC,CAEAC,IAEA,MAAMM,EAAe,SAAS,cAAc,eAAe,EACpD,SAASC,GAAiB,CAEhC,MAAMC,EADkBN,EAAW,UAAU,EACf,OAAO,CAACO,EAAKC,IAAQD,GAAOC,EAAG,KAAK,MAAQ,CAAC,EAC3EJ,EAAa,YAAc,IAAIE,CAAK,EACrC,CAEAD,IAEA,MAAMI,EAAe,SAAS,cAAc,sBAAsB,EAElEA,EAAa,iBAAiB,QAASC,CAAmB,EAEnD,SAASA,GAAsB,CACrC,aAAa,WAAW,UAAU,EAClC,aAAa,QAAQ,WAAY,KAAK,UAAU,CAAE,CAAA,CAAC,EAGtC,KAAK,MAAM,aAAa,QAAQ,UAAU,CAAC,EAC/C,SAAW,IACnBT,EAAmB,MAAM,QAAU,OACnCJ,EAAc,MAAM,QAAU,QAEhC,CAGA,SAASM,EAA0BQ,EAAK,CACvC,OAAOA,EACL,IACAC,GACC,kCAAkCA,EAAQ,KAAK,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKtCA,EAAQ,KAAK,GAAG;AAAA,gBAChBA,EAAQ,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKMA,EAAQ,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAQhCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQXD,EAAQ,KAAK,SAAS,WAAW,IAAK,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA,kBAI1CA,EAAQ,KAAK,IAAI;AAAA;AAAA;AAAA,sCAGGA,EAAQ,KAAK,KAAK;AAAA;AAAA;AAAA,WAIrD,EACA,KAAK,EAAE,CACV,CACA,QAAQ,IAAIT,CAAyB"}